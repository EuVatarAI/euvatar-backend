<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<title>Euvatar</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="estatic/play_token.css">
</head>
<body>
<div class="page">
  <header class="app-header">
    <div class="brand">
      <span class="brand-dot"></span>
      EuvatarAI 
    </div>
    <div class="top-actions">
      <div class="tag"><span id="timer">‚è≥ 00:00 / 00:00</span></div>
      <button id="btnAdmin" class="config-btn">Configurar sess√£o</button>
    </div>
  </header>

  <section class="info-cards">
    <div class="info-card">
      <div class="info-head">
        <div class="badge live" id="badgeSession">Sess√£o inativa</div>
        <div class="badge soft" id="badgeAvatar">Avatar padr√£o</div>
      </div>
      <div class="info-body">
        <div class="pill tiny" id="pillLang">Idioma: pt-BR</div>
        <div class="pill tiny" id="pillQuality">Qualidade: low</div>
      </div>
    </div>
    <div class="info-card">
      <div class="info-head">
        <div class="badge soft">Dicas r√°pidas</div>
      </div>
      <ul class="info-list">
        <li>1. Clique em ‚ÄúFale comigo‚Äù para iniciar.</li>
        <li>2. Habilite o microfone quando solicitado.</li>
        <li>3. Use ‚ÄúConfigurar sess√£o‚Äù para trocar avatar, contexto e docs.</li>
      </ul>
    </div>
  </section>

  <div class="stage" id="stage">
    <video id="vid" autoplay playsinline muted></video>

    <div id="ctxCard" class="ctxCard" aria-live="polite" title="Clique para fechar">
      <img id="ctxImg" alt="">
    </div>
    <div id="displayName" class="displayName"></div>

    <div id="status" class="status"><div class="dot"></div><span id="statusText">Pronto</span></div>

    <button id="btnEnd" class="imgbtn hangup hidden" aria-label="Encerrar"><img src="estatic/a.png" alt="Encerrar"></button>
    <button id="btnMic" class="mic hidden" aria-label="Falar por voz" title="Falar por voz">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M12 14a3 3 0 0 0 3-3V7a3 3 0 1 0-6 0v4a3 3 0 0 0 3 3z"/>
        <path d="M5 11a1 1 0 0 1 2 0 5 5 0 0 0 10 0 1 1 0 1 1 2 0 7 7 0 0 1-6 6.92V20h2a1 1 0 1 1 0 2H9a1 1 0 1 1 0-2h2v-2.08A7 7 0 0 1 5 11z"/>
      </svg>
    </button>

    <div id="idle" class="idle">
      <div class="idleCard">
        <img id="idlePoster" class="idlePoster" alt="Poster">
        <div class="talkWrap">
          <button id="btnTalk" class="imgbtn" aria-label="Fale comigo">
            <img src="estatic/fale%20comigo.png" alt="fale comigo">
          </button>
        </div>
      </div>
    </div>
  </div>

  <div id="toast" class="toast" role="status"></div>
  <button id="btnLogs" class="log-toggle" aria-label="alternar logs">Logs</button>
</div>

<!-- MODAL CONTINUAR -->
<div id="modExt" class="modal" role="dialog" aria-modal="true" aria-labelledby="ttlExt">
  <div class="box">
    <h3 id="ttlExt">Continuar na conversa?</h3>
    <p class="muted">Sua sess√£o est√° acabando. Deseja permanecer por mais 2 min e 30s?</p>
    <div class="rowModal">
      <button id="btnNo" class="action-btn secondary" aria-label="Encerrar">Encerrar</button>
      <button id="btnYes" class="action-btn primary" aria-label="Continuar">Continuar</button>
    </div>
  </div>
</div>

<!-- CONFIG -->
<div id="modAdm" class="modal">
  <div class="box cfg-modal">
    <div style="display:flex;justify-content:space-between;align-items:center;gap:10px">
      <div><strong>Configura√ß√£o</strong></div>
      <div class="cfg-pill">Avatar, contexto e treinamento</div>
    </div>
    <div class="cfg-scroll">
      <div class="cfg-grid">
        <div class="cfg-row">
          <label for="cfgAvatar">Avatar</label>
          <select id="cfgAvatar"><option value="b53bf14741784d0d8f49edef2d74ef4e">Marcelo (Padr√£o)</option><option value="Santa_Fireplace_Front_public">Papai Noel üéÖ</option></select>
        </div>
        <div class="cfg-row">
          <label for="cfgLang">Idioma</label>
          <select id="cfgLang"><option>pt-BR</option><option>en-US</option></select>
        </div>
        <div class="cfg-row">
          <label for="cfgQuality">Qualidade</label>
          <select id="cfgQuality"><option>low</option><option>medium</option><option>high</option></select>
        </div>
      </div>
      <div class="cfg-row">
        <label for="cfgDisplayName">Nome de exibi√ß√£o (chip)</label>
        <input id="cfgDisplayName" placeholder="ex.: ZAVA">
      </div>
      <div class="cfg-row">
        <label for="cfgBackstory">Backstory</label>
        <textarea id="cfgBackstory" rows="3" placeholder="Contexto r√°pido que acompanha o avatar"></textarea>
      </div>

      <div class="cfg-section">
        <div class="cfg-head">
          <div>Contextos <span class="muted" style="font-size:12px">/upload/context-image ¬∑ /context/list</span></div>
          <button id="btnCtxList">Listar</button>
        </div>
        <div class="cfg-row">
          <div style="font-size:12px;color:var(--muted)">Usando avatar selecionado no topo.</div>
          <input id="ctxAvatar" type="hidden">
          <div style="flex:1; min-width:220px">
            <label for="ctxName">Contexto (nome)</label>
            <input id="ctxName" placeholder="ex.: cardapio_2024">
          </div>
          <div style="flex:1; min-width:220px">
            <label for="ctxKeywords">Keywords</label>
            <input id="ctxKeywords" placeholder="ex.: pizza; massa; delivery">
          </div>
        </div>
        <div class="cfg-row">
          <div style="flex:1; min-width:160px">
            <label for="ctxType">Tipo</label>
            <select id="ctxType"><option value="image">image</option><option value="video">video</option></select>
          </div>
          <div style="flex:1; min-width:200px">
            <label for="ctxFile">Arquivo</label>
            <input id="ctxFile" type="file" accept="image/*,video/*">
          </div>
        </div>
        <div class="cfg-row">
          <button id="btnCtxUpload" class="primary">Subir m√≠dia + keywords</button>
        </div>
        <div id="ctxList" class="cfg-list" aria-live="polite">Sem resultados.</div>
      </div>

      <div class="cfg-section">
        <div class="cfg-head">
          <div>Docs de treinamento <span class="muted" style="font-size:12px">/training/upload ¬∑ /training/list</span></div>
          <button id="btnDocList">Listar</button>
        </div>
        <div class="cfg-row">
          <div style="font-size:12px;color:var(--muted)">Usando avatar selecionado no topo.</div>
          <input id="docAvatar" type="hidden">
          <div style="flex:1; min-width:220px">
            <label for="docTitle">T√≠tulo</label>
            <input id="docTitle" placeholder="ex.: manual">
          </div>
          <div style="flex:1; min-width:200px">
            <label for="docFile">Arquivo (pdf/txt/docx)</label>
            <input id="docFile" type="file" accept=".pdf,.txt,.doc,.docx,application/pdf,text/plain">
          </div>
        </div>
        <div class="cfg-row">
          <button id="btnDocUpload" class="primary">Subir doc</button>
        </div>
        <div id="docList" class="cfg-list" aria-live="polite">Sem resultados.</div>
      </div>
    </div>
    <div class="footer-actions">
      <button id="btnAdmClose">Fechar</button>
      <button id="btnAdmSave" class="primary">Salvar</button>
    </div>
  </div>
</div>

<!-- ONBOARDING -->
<div id="onboarding" class="modal">
  <div class="box onboarding-box">
    <h3>Bem-vindo(a) ao Euvatar</h3>
    <p class="muted">Passo a passo r√°pido para n√£o se perder:</p>
    <ul class="info-list">
      <li>Abra a sess√£o em ‚ÄúFale comigo‚Äù.</li>
      <li>Use o microfone quando quiser falar.</li>
      <li>Troque avatar/voz/contexto na Config.</li>
    </ul>
    <div class="rowModal">
      <button id="btnOnbClose" class="action-btn" aria-label="Continuar">Continuar</button>
    </div>
  </div>
</div>

<script type="module" src="estatic/play_token.js"></script>
</body>
</html>
